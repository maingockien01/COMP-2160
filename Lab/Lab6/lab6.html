<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Programming practices" />
  <title>COMP 2160 â€“ Lab 6</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <style>
body { margin: 20px; font-family: Lato,'Lucida Sans Unicode','Lucida Grande',sans-serif; line-height: 1.5em; } 
table { border-collapse: collapse; } 
table,th,td { border: 1px solid #ddd; padding: 10px; margin: 10px; } 
del, del > a, del > mark > a {color: lightgray; text-decoration-color: lightgray;} 
ins > a {text-decoration-line: underline; text-decoration-style: wavy} 
pre > code {background: black; color: white; padding: 1em; font-family: monospace; line-height: normal; display: block;}
</style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">COMP 2160 &ndash; Lab 6</h1>
<p class="author">Programming practices</p>
<p class="date">November 18<sup>th</sup> &ndash; 20<sup>th</sup></p>
</header><nav id="TOC">
<ul>
<li><a href="#objectives">Objectives</a></li>
<li><a href="#things-to-do-before-the-lab">Things to do <em>before</em> the lab</a></li>
<li><a href="#exercises">Exercises</a>
<ul>
<li><a href="#exercise-1">Exercise 1</a></li>
<li><a href="#exercise-2">Exercise 2</a></li>
</ul>
</li>
</ul>
</nav>
<h1 id="objectives">Objectives</h1>
<ul>
<li>Time and space optimization</li>
</ul>
<h1 id="things-to-do-before-the-lab">Things to do <em>before</em> the lab</h1>
<p>Read <strong>columns 9 and 10</strong> of <em>Programming Pearls</em>. Always remember, most often what you have is good enough, but occasionally you have to do better (without obfuscation, of course!).</p>
<h1 id="exercises">Exercises</h1>
<h2 id="exercise-1">Exercise 1</h2>
<p>Take this recursive <a href="fib.c">Fibonacci</a> implementation, compile it, and run it on <code>rodents.cs.umanitoba.ca</code>. Try running this with several different arguments (start small, work your way up). Record how long the program takes to complete for each value in a spreadsheet (like Excel, LibreOffice, etc).</p>
<p>You can use the <code>time</code> command to help you measure how much time the program takes to complete.</p>
<p>Note that there are <em>two</em> different implementations of the <code>time</code> command:</p>
<ol type="1">
<li>One that is built-in to the shell that you&rsquo;re running (you&rsquo;re <em>probably</em> running <a href="http://www.tcsh.org/" target="_blank" rel="noopener"><code>tcsh</code></a>, see <code>man tcsh</code>, then go to the &ldquo;Builtin commands&rdquo; section),</li>
<li>One that is installed into the system as a binary at <code>/usr/bin/time</code><span style="font-family: 'courier new', courier, sans-serif;">.</span></li>
</ol>
<p>The two behave differently, and can give you different kinds of information. Check out this article on <a href="https://hackernoon.com/usr-bin-time-not-the-command-you-think-you-know-34ac03e55cc3" target="_blank" rel="noopener">Hacker Noon</a> for more information.</p>
<p>For the purposes of this lab, use the <strong><span style="font-family: 'courier new', courier, sans-serif;">/usr/bin/time</span></strong> version.</p>
<p>The program is designed to take the desired Fibonacci number via the command line. To get the 42<sup>nd</sup> Fibonacci number, you would use <code>./fib 42</code>. To run the <code>time</code> utility, you can enter the following on the command line:</p>
<div class="sourceCode" id="cb1">
<pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="bu">time</span> ./fib 42 </span></code></pre>
</div>
<h3 id="what-you-should-show-the-ta">What you should show the TA</h3>
<p>Run the program with 10, 16, 24, 30, 36, 40,and 42 and record those in a spreadsheet and make a chart. Show the TA the chart, and tell them what you think the general trend is for the runtime of this program.</p>
<p>You should also be able to answer this question: <em>Why</em> is this program slow?</p>
<h2 id="exercise-2">Exercise 2</h2>
<p>Make the program from exercise 1 <em>faster</em> by trading space for time. Create an array of <code>int</code> that can be used as a <em><a href="https://en.wikipedia.org/wiki/Cache_(computing)" target="_blank" rel="noopener">cache</a></em>. Each index in the array should correspond to a value that you can compute once, then quickly return.</p>
<p>Pick two different sizes for your cache (one small, one large, <strong>you&rsquo;re going to need to figure out what reasonable values for small and large are on your own</strong>). Run the <em>same</em> experiment that you did in exercise 1 for both the small cache and the large cache, and plot the results in the same way.</p>
<h3 id="what-you-should-show-the-ta-1">What you should show the TA</h3>
<p>Show the TA your updated chart. Be able to explain to the TA why the program runs faster (&ldquo;Because we&rsquo;re trading space for time&rdquo; is not a good enough answer&hellip;), and be able to explain how the size of the cache affects the runtime.</p>
<h3>What to submit</h3>
<p>Submit both charts for the exercises, and your <strong>cached fibonacci code</strong> with a note about "<em><strong>why (E1) is slow and why (E2) is faster and how you found an optimal cache size</strong></em>"?</p>
</body>
</html>